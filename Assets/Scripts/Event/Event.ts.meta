fileFormatVersion: 2
guid: 4b2a22358c407284aac95bea49d288e2
importerOverride: ZEPETO.Script.Compiler:ZEPETO.Script:TypescriptAssetImporter
ScriptedImporter:
  internalIDToNameTable: []
  externalObjects: {}
  serializedVersion: 2
  userData: 
  assetBundleName: 
  assetBundleVariant: 
  script: {fileID: -1123457745, guid: 54cf806323ffe4418a4ce4cc63fe6b9d, type: 3}
  isAssemblyDeclarations: 0
  assembly: 
  generateAllTypes: 1
  types: []
  generateWrapper: 0
  overrideWrapperTypes: 0
  wrapperTypes: []
  WrapperFilters: []
  wrapperOutputDirectory: Generated
  compiledResult: "{\"source\":\"\\\"use strict\\\";\\r\\nObject.defineProperty(exports,
    \\\"__esModule\\\", { value: true });\\r\\nconst ZEPETO_Script_1 = require(\\\"ZEPETO.Script\\\");\\r\\nconst
    UnityEngine_1 = require(\\\"UnityEngine\\\");\\r\\nconst EventSlot_1 = require(\\\"./EventSlot\\\");\\r\\nconst
    DataManager_1 = require(\\\"../DataManager\\\");\\r\\nclass Event extends ZEPETO_Script_1.ZepetoScriptBehaviour
    {\\r\\n    constructor() {\\r\\n        super(...arguments);\\r\\n        this.eventSlots
    = []; // \uC774\uBCA4\uD2B8 \uBCF4\uC0C1 \uC2AC\uB86F \uBC30\uC5F4\\r\\n       
    this.totalEventTime = 60 * 60; // \uC774\uBCA4\uD2B8 \uCD1D \uC2DC\uAC04 (60\uBD84)\\r\\n       
    this.rewardInterval = 15 * 60; // \uBCF4\uC0C1 \uC218\uB839 \uAC04\uACA9 (15\uBD84)\\r\\n       
    this.firstRewardDelay = 5 * 60; // \uCC98\uC74C \uBCF4\uC0C1 \uC9C0\uC5F0 \uC2DC\uAC04
    (5\uBD84)\\r\\n        this.elapsedTime = 0; // \uACBD\uACFC \uC2DC\uAC04\\r\\n       
    this.interval = 1; // \uCD08 \uB2E8\uC704\uB85C \uC138\uACE0 \uC2F6\uC740 \uAC04\uACA9\\r\\n   
    }\\r\\n    OnEnable() {\\r\\n        this.eventTitleText.text = DataManager_1.default.GetInstance().GetCurrentLanguageData(\\\"event_title\\\");\\r\\n       
    this.eventDescriptionText.text = DataManager_1.default.GetInstance().GetCurrentLanguageData(\\\"event_description\\\");\\r\\n   
    }\\r\\n    Start() {\\r\\n        // eventSlotObjs\uC5D0 \uB4F1\uB85D\uB41C EventSlot
    \uCEF4\uD3EC\uB10C\uD2B8\uB97C \uAC00\uC838\uC640\uC11C eventSlots\uC5D0 \uB4F1\uB85D\\r\\n       
    this.eventSlotObjs.forEach((slotObj) => {\\r\\n            const eventSlot =
    slotObj.GetComponent($typeof(EventSlot_1.default));\\r\\n            if (eventSlot)
    {\\r\\n                this.eventSlots.push(eventSlot);\\r\\n            }\\r\\n       
    });\\r\\n        this.StartTimer();\\r\\n        this.eventSlots[0].SetSlot(5);\\r\\n       
    this.eventSlots[1].SetSlot(15);\\r\\n        this.eventSlots[2].SetSlot(30);\\r\\n       
    this.eventSlots[3].SetSlot(45);\\r\\n        this.eventSlots[4].SetSlot(60);\\r\\n   
    }\\r\\n    StartTimer() {\\r\\n        setInterval(() => {\\r\\n            this.elapsedTime++;\\r\\n           
    // \uC774\uBCA4\uD2B8 \uC9C4\uD589\uB3C4 \uC5C5\uB370\uC774\uD2B8\\r\\n           
    this.UpdateEventProgress();\\r\\n            // \uB0A8\uC740 \uC2DC\uAC04 \uC5C5\uB370\uC774\uD2B8\\r\\n           
    this.UpdateRemainingTime();\\r\\n        }, this.interval * 1000);\\r\\n    }\\r\\n   
    UpdateEventProgress() {\\r\\n        const progressRatio = this.elapsedTime /
    this.totalEventTime;\\r\\n        this.eventProgressSlider.value = progressRatio;\\r\\n   
    }\\r\\n    UpdateRemainingTime() {\\r\\n        let remainingTime;\\r\\n       
    if (this.elapsedTime <= this.firstRewardDelay) {\\r\\n            remainingTime
    = this.firstRewardDelay - this.elapsedTime;\\r\\n        }\\r\\n        else
    {\\r\\n            const timeSinceLastReward = (this.elapsedTime - this.firstRewardDelay)
    % this.rewardInterval;\\r\\n            remainingTime = this.rewardInterval -
    timeSinceLastReward;\\r\\n        }\\r\\n        this.remainingTimeText.text
    = this.FormatTime(remainingTime);\\r\\n        this.eventSlots.forEach((slot)
    => {\\r\\n            slot.CheckUnlock(this.elapsedTime);\\r\\n        });\\r\\n   
    }\\r\\n    FormatTime(time) {\\r\\n        const next = DataManager_1.default.GetInstance().GetCurrentLanguageData(\\\"event_time_next\\\");\\r\\n       
    const minutes = Math.floor(time / 60);\\r\\n        const seconds = time % 60;\\r\\n       
    return `${next}: ${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2,
    '0')}`;\\r\\n    }\\r\\n}\\r\\nexports.default = Event;\\r\\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRXZlbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJFdmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLGlEQUFxRDtBQUNyRCw2Q0FBZ0Q7QUFHaEQsMkNBQW9DO0FBQ3BDLGdEQUF5QztBQUV6QyxNQUFxQixLQUFNLFNBQVEscUNBQXFCO0lBQXhEOztRQU1ZLGVBQVUsR0FBZ0IsRUFBRSxDQUFDLENBQUcsZUFBZTtRQUMvQyxtQkFBYyxHQUFXLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQyxpQkFBaUI7UUFDbkQsbUJBQWMsR0FBVyxFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUMsaUJBQWlCO1FBQ25ELHFCQUFnQixHQUFXLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxtQkFBbUI7UUFDdEQsZ0JBQVcsR0FBVyxDQUFDLENBQUMsQ0FBQyxRQUFRO1FBQ2pDLGFBQVEsR0FBVyxDQUFDLENBQUMsQ0FBQyxpQkFBaUI7SUErRG5ELENBQUM7SUE3REcsUUFBUTtRQUNKLElBQUksQ0FBQyxjQUFjLENBQUMsSUFBSSxHQUFHLHFCQUFXLENBQUMsV0FBVyxFQUFFLENBQUMsc0JBQXNCLENBQUMsYUFBYSxDQUFDLENBQUM7UUFDM0YsSUFBSSxDQUFDLG9CQUFvQixDQUFDLElBQUksR0FBRyxxQkFBVyxDQUFDLFdBQVcsRUFBRSxDQUFDLHNCQUFzQixDQUFDLG1CQUFtQixDQUFDLENBQUM7SUFDM0csQ0FBQztJQUVELEtBQUs7UUFDRCx5REFBeUQ7UUFDekQsSUFBSSxDQUFDLGFBQWEsQ0FBQyxPQUFPLENBQUMsQ0FBQyxPQUFPLEVBQUUsRUFBRTtZQUNuQyxNQUFNLFNBQVMsR0FBRyxPQUFPLENBQUMsWUFBWSxTQUFDLG1CQUFTLEVBQUcsQ0FBQztZQUNwRCxJQUFJLFNBQVMsRUFBRTtnQkFDWCxJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQzthQUNuQztRQUNMLENBQUMsQ0FBQyxDQUFDO1FBQ0gsSUFBSSxDQUFDLFVBQVUsRUFBRSxDQUFDO1FBQ2xCLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzlCLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQy9CLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQy9CLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQy9CLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQyxDQUFDO0lBQ25DLENBQUM7SUFFTyxVQUFVO1FBQ2QsV0FBVyxDQUFDLEdBQUcsRUFBRTtZQUNiLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztZQUVuQixlQUFlO1lBQ2YsSUFBSSxDQUFDLG1CQUFtQixFQUFFLENBQUM7WUFFM0IsYUFBYTtZQUNiLElBQUksQ0FBQyxtQkFBbUIsRUFBRSxDQUFDO1FBRS9CLENBQUMsRUFBRSxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxDQUFDO0lBQzdCLENBQUM7SUFDTyxtQkFBbUI7UUFDdkIsTUFBTSxhQUFhLEdBQVcsSUFBSSxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsY0FBYyxDQUFDO1FBQ3JFLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxLQUFLLEdBQUcsYUFBYSxDQUFDO0lBQ25ELENBQUM7SUFFTyxtQkFBbUI7UUFDdkIsSUFBSSxhQUFxQixDQUFDO1FBRTFCLElBQUksSUFBSSxDQUFDLFdBQVcsSUFBSSxJQUFJLENBQUMsZ0JBQWdCLEVBQUU7WUFDM0MsYUFBYSxHQUFHLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDO1NBQzVEO2FBQU07WUFDSCxNQUFNLG1CQUFtQixHQUFXLENBQUMsSUFBSSxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsR0FBRyxJQUFJLENBQUMsY0FBYyxDQUFDO1lBQ3JHLGFBQWEsR0FBRyxJQUFJLENBQUMsY0FBYyxHQUFHLG1CQUFtQixDQUFDO1NBQzdEO1FBRUQsSUFBSSxDQUFDLGlCQUFpQixDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLGFBQWEsQ0FBQyxDQUFDO1FBRTdELElBQUksQ0FBQyxVQUFVLENBQUMsT0FBTyxDQUFDLENBQUMsSUFBSSxFQUFFLEVBQUU7WUFDN0IsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7UUFDdkMsQ0FBQyxDQUFDLENBQUM7SUFDUCxDQUFDO0lBRU8sVUFBVSxDQUFDLElBQVk7UUFDM0IsTUFBTSxJQUFJLEdBQVcscUJBQVcsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxzQkFBc0IsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO1FBQ3pGLE1BQU0sT0FBTyxHQUFXLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxHQUFHLEVBQUUsQ0FBQyxDQUFDO1FBQzlDLE1BQU0sT0FBTyxHQUFXLElBQUksR0FBRyxFQUFFLENBQUM7UUFDbEMsT0FBTyxHQUFHLElBQUksS0FBSyxPQUFPLENBQUMsUUFBUSxFQUFFLENBQUMsUUFBUSxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsSUFBSSxPQUFPLENBQUMsUUFBUSxFQUFFLENBQUMsUUFBUSxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsRUFBRSxDQUFDO0lBQ3BHLENBQUM7Q0FDSjtBQTFFRCx3QkEwRUMifQ==\",\"assetPath\":\"Assets/Scripts/Event/Event.ts\",\"manifest\":{\"properties\":[{\"assembly\":\"Unity.TextMeshPro\",\"name\":\"eventTitleText\",\"type\":\"TMPro.TextMeshProUGUI\",\"isArray\":false,\"initValue\":[],\"enumKeys\":[],\"enumValues\":[],\"attributes\":[{\"name\":\"SerializeField\",\"args\":[]}]},{\"assembly\":\"Unity.TextMeshPro\",\"name\":\"eventDescriptionText\",\"type\":\"TMPro.TextMeshProUGUI\",\"isArray\":false,\"initValue\":[],\"enumKeys\":[],\"enumValues\":[],\"attributes\":[{\"name\":\"SerializeField\",\"args\":[]}]},{\"assembly\":\"Unity.TextMeshPro\",\"name\":\"remainingTimeText\",\"type\":\"TMPro.TextMeshProUGUI\",\"isArray\":false,\"initValue\":[],\"enumKeys\":[],\"enumValues\":[],\"attributes\":[{\"name\":\"SerializeField\",\"args\":[]}]},{\"assembly\":\"UnityEngine.UI\",\"name\":\"eventProgressSlider\",\"type\":\"UnityEngine.UI.Slider\",\"isArray\":false,\"initValue\":[],\"enumKeys\":[],\"enumValues\":[],\"attributes\":[{\"name\":\"SerializeField\",\"args\":[]}]},{\"assembly\":\"UnityEngine.CoreModule\",\"name\":\"eventSlotObjs\",\"type\":\"UnityEngine.GameObject[]\",\"isArray\":true,\"initValue\":[],\"enumKeys\":[],\"enumValues\":[],\"attributes\":[{\"name\":\"SerializeField\",\"args\":[]}]}],\"name\":\"Event\",\"description\":\"\"},\"isCompiled\":true}"
  typescriptHash: 0bd784cb82fa7685b466db4eb6a8f8bc
  onlyWriteTrigger: 0
