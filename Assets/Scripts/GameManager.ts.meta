fileFormatVersion: 2
guid: bb375eb55cd9444488be4a7dd4186cbc
importerOverride: ZEPETO.Script.Compiler:ZEPETO.Script:TypescriptAssetImporter
ScriptedImporter:
  internalIDToNameTable: []
  externalObjects: {}
  serializedVersion: 2
  userData: 
  assetBundleName: 
  assetBundleVariant: 
  script: {fileID: -1123457745, guid: 54cf806323ffe4418a4ce4cc63fe6b9d, type: 3}
  isAssemblyDeclarations: 0
  assembly: 
  generateAllTypes: 1
  types: []
  generateWrapper: 0
  overrideWrapperTypes: 0
  wrapperTypes: []
  WrapperFilters: []
  wrapperOutputDirectory: Generated
  compiledResult: '{"source":"\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\",
    { value: true });\r\nconst ZEPETO_Script_1 = require(\"ZEPETO.Script\");\r\nconst
    UnityEngine_1 = require(\"UnityEngine\");\r\nconst Timer_1 = require(\"./Timer\");\r\nconst
    CharacterController_1 = require(\"./CharacterController\");\r\nconst QuarterViewController_1
    = require(\"./QuarterViewController\");\r\nconst DataManager_1 = require(\"./DataManager\");\r\nconst
    OrderManager_1 = require(\"./OrderManager\");\r\nconst UIManager_1 = require(\"./UIManager\");\r\nconst
    BalanceManager_1 = require(\"./Shop/BalanceManager\");\r\nclass GameManager extends
    ZEPETO_Script_1.ZepetoScriptBehaviour {\r\n    static GetInstance() {\r\n       
    if (!GameManager.Instance) {\r\n            //Debug.LogError(\"GameManager\");\r\n           
    var _obj = UnityEngine_1.GameObject.Find(\"Managers\");\r\n            if (!_obj)
    {\r\n                _obj = new UnityEngine_1.GameObject(\"Managers\");\r\n               
    _obj.AddComponent($typeof(GameManager));\r\n            }\r\n            GameManager.Instance
    = _obj.GetComponent($typeof(GameManager));\r\n            UnityEngine_1.GameObject.DontDestroyOnLoad(_obj);\r\n       
    }\r\n        return GameManager.Instance;\r\n    }\r\n    Awake() {\r\n       
    if (this != GameManager.GetInstance())\r\n            UnityEngine_1.GameObject.Destroy(this.gameObject);\r\n   
    }\r\n    Start() {\r\n        this.init();\r\n    }\r\n    init() {\r\n       
    /* need load */\r\n        this.lastSavedDay = 0;\r\n        this.curStage =
    this.lastSavedDay;\r\n    }\r\n    InitStage() {\r\n        UnityEngine_1.Debug.Log(\"InitStage\");\r\n       
    this.timer = new Timer_1.default();\r\n        this.timer.SetTimeScale(this.minutesPerDay);\r\n       
    this.timer.SetTime(this.startHour, 0);\r\n        DataManager_1.default.GetInstance().setStageReceipts(this.curStage);\r\n       
    //this.stageUIController = GameObject.FindGameObjectWithTag(\"UIController\").GetComponent<StageUIController>();\r\n       
    this.characterController = UnityEngine_1.GameObject.FindGameObjectWithTag(\"Character\").GetComponent($typeof(CharacterController_1.default));\r\n       
    this.quarterViewController = UnityEngine_1.GameObject.FindGameObjectWithTag(\"Quarter\").GetComponent($typeof(QuarterViewController_1.default));\r\n       
    //this.cook = this.cookObj.GetComponent<Cook>();\r\n        this.isInGame = true;\r\n       
    OrderManager_1.default.GetInstance().init();\r\n        OrderManager_1.default.GetInstance().StartOrder();\r\n       
    //this.cook.init();\r\n        UIManager_1.default.GetInstance().initStageUI();\r\n       
    BalanceManager_1.default.GetInstance().RefreshAllBalanceUI();\r\n        this.SetPlayerJump(false);\r\n   
    }\r\n    Update() {\r\n        if (this.isInGame) {\r\n            this.StageUpdate();\r\n       
    }\r\n    }\r\n    StageUpdate() {\r\n        // update timer\r\n        if (this.timer)\r\n           
    this.timer.UpdateTime();\r\n        this.currTime = [this.timer.GetHour(), this.timer.GetMinute()];\r\n       
    // stage end\r\n        if (this.currTime[0] >= this.endHour) {\r\n           
    this.currTime[1] = 0;\r\n            UIManager_1.default.GetInstance().SetSettlementUI(true);\r\n           
    this.isInGame = false;\r\n        }\r\n        // update UI\r\n        UIManager_1.default.GetInstance().SetTimeUI(this.currTime[0],
    this.currTime[1]);\r\n    }\r\n    SetPlayerMovement(value) {\r\n        if (this.characterController
    && this.quarterViewController) {\r\n            (value) ? this.characterController.EnableMoveControl()
    : this.characterController.DisableMoveControl();\r\n            this.quarterViewController.SetMove(value);\r\n       
    }\r\n    }\r\n    SetPlayerJump(value) {\r\n        if (this.characterController
    && this.quarterViewController) {\r\n            this.characterController.SetJump(value);\r\n       
    }\r\n    }\r\n    nextStage() {\r\n        this.curStage++;\r\n    }\r\n    getCurrentStage()
    {\r\n        return this.curStage;\r\n    }\r\n    Reset() {\r\n        // reset
    all variables to their initial values\r\n        this.timer.SetTime(this.startHour,
    0);\r\n        this.currTime = [this.timer.GetHour(), this.timer.GetMinute()];\r\n       
    this.isInGame = false;\r\n        // reset UI\r\n        UIManager_1.default.GetInstance().SetSettlementUI(false);\r\n       
    UIManager_1.default.GetInstance().SetTimeUI(this.currTime[0], this.currTime[1]);\r\n       
    BalanceManager_1.default.GetInstance().RefreshAllBalanceUI();\r\n        // reset
    managers\r\n        //OrderManager.GetInstance().Reset();\r\n        //DataManager.GetInstance().Reset();\r\n       
    // initialize the game\r\n        this.init();\r\n    }\r\n}\r\nexports.default
    = GameManager;\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiR2FtZU1hbmFnZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJHYW1lTWFuYWdlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUNBLGlEQUFxRDtBQUVyRCw2Q0FBd0U7QUFDeEUsbUNBQTRCO0FBQzVCLCtEQUF3RDtBQUN4RCxtRUFBNEQ7QUFDNUQsK0NBQXdDO0FBQ3hDLGlEQUEwQztBQUMxQywyQ0FBb0M7QUFDcEMsMERBQW1EO0FBRW5ELE1BQXFCLFdBQVksU0FBUSxxQ0FBcUI7SUFHbkQsTUFBTSxDQUFDLFdBQVc7UUFFckIsSUFBSSxDQUFDLFdBQVcsQ0FBQyxRQUFRLEVBQUU7WUFDdkIsZ0NBQWdDO1lBRWhDLElBQUksSUFBSSxHQUFHLHdCQUFVLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1lBQ3ZDLElBQUksQ0FBQyxJQUFJLEVBQUU7Z0JBQ1AsSUFBSSxHQUFHLElBQUksd0JBQVUsQ0FBQyxVQUFVLENBQUMsQ0FBQztnQkFDbEMsSUFBSSxDQUFDLFlBQVksU0FBQyxXQUFXLEdBQUk7YUFDcEM7WUFDRCxXQUFXLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxZQUFZLFNBQUMsV0FBVyxFQUFHLENBQUM7WUFDeEQsd0JBQVUsQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLENBQUMsQ0FBQztTQUN0QztRQUNELE9BQU8sV0FBVyxDQUFDLFFBQVEsQ0FBQztJQUNoQyxDQUFDO0lBaUJELEtBQUs7UUFDRCxJQUFJLElBQUksSUFBSSxXQUFXLENBQUMsV0FBVyxFQUFFO1lBQUUsd0JBQVUsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO0lBQy9FLENBQUM7SUFFRCxLQUFLO1FBQ0QsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0lBQ2hCLENBQUM7SUFFRCxJQUFJO1FBQ0EsZUFBZTtRQUNmLElBQUksQ0FBQyxZQUFZLEdBQUcsQ0FBQyxDQUFDO1FBQ3RCLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFD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","assetPath":"Assets/Scripts/GameManager.ts","manifest":{"properties":[{"assembly":"","name":"characterController","type":"C:/Users/Jun/Documents/GitHub/WakKitchen/Assets/Scripts/CharacterController.default","isArray":false,"initValue":[],"enumKeys":[],"enumValues":[],"attributes":[{"name":"SerializeField","args":[]}]},{"assembly":"","name":"quarterViewController","type":"C:/Users/Jun/Documents/GitHub/WakKitchen/Assets/Scripts/QuarterViewController.default","isArray":false,"initValue":[],"enumKeys":[],"enumValues":[],"attributes":[{"name":"SerializeField","args":[]}]},{"assembly":"mscorlib","name":"minutesPerDay","type":"System.Single","isArray":false,"initValue":[],"enumKeys":[],"enumValues":[],"attributes":[{"name":"SerializeField","args":[]}]},{"assembly":"mscorlib","name":"startHour","type":"System.Single","isArray":false,"initValue":[],"enumKeys":[],"enumValues":[],"attributes":[{"name":"SerializeField","args":[]}]},{"assembly":"mscorlib","name":"endHour","type":"System.Single","isArray":false,"initValue":[],"enumKeys":[],"enumValues":[],"attributes":[{"name":"SerializeField","args":[]}]}],"name":"GameManager","description":""},"isCompiled":true}'
  typescriptHash: 890c0dbfbe0ef47df813fe15b1da4c9a
  onlyWriteTrigger: 0
