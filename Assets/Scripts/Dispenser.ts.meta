fileFormatVersion: 2
guid: 3718fda636ccbab49a3e67c33670d077
importerOverride: ZEPETO.Script.Compiler:ZEPETO.Script:TypescriptAssetImporter
ScriptedImporter:
  internalIDToNameTable: []
  externalObjects: {}
  serializedVersion: 2
  userData: 
  assetBundleName: 
  assetBundleVariant: 
  script: {fileID: -1123457745, guid: 54cf806323ffe4418a4ce4cc63fe6b9d, type: 3}
  isAssemblyDeclarations: 0
  assembly: 
  generateAllTypes: 1
  types: []
  generateWrapper: 0
  overrideWrapperTypes: 0
  wrapperTypes: []
  WrapperFilters: []
  wrapperOutputDirectory: Generated
  compiledResult: '{"source":"\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\",
    { value: true });\r\nconst UnityEngine_1 = require(\"UnityEngine\");\r\nconst
    UnityEngine_UI_1 = require(\"UnityEngine.UI\");\r\nconst ZEPETO_Script_1 = require(\"ZEPETO.Script\");\r\nconst
    Cup_1 = require(\"./Cup\");\r\nconst OrderManager_1 = require(\"./OrderManager\");\r\nclass
    Dispenser extends ZEPETO_Script_1.ZepetoScriptBehaviour {\r\n    Start() {\r\n       
    this.cup = this.cupBtn.gameObject.GetComponent($typeof(Cup_1.default));\r\n       
    this.init();\r\n        this.stopBtn.onClick.AddListener(() => {\r\n           
    this.isCatch = (this.isCatch) ? false : true;\r\n            if (!this.isCatch)\r\n               
    this.init();\r\n            else\r\n                this.CheckDrink();\r\n       
    });\r\n        this.cupBtn.onClick.AddListener(() => {\r\n            OrderManager_1.default.GetInstance().AddItemToInventory(this.curDrink);\r\n       
    });\r\n    }\r\n    init() {\r\n        this.StopAllCoroutines();\r\n       
    this.isCatch = false;\r\n        const startPos = new UnityEngine_1.Vector2(UnityEngine_1.Random.Range(this.leftMax.anchoredPosition.x,
    this.rightMax.anchoredPosition.x), this.cupTransform.anchoredPosition.y);\r\n       
    this.cupTransform.anchoredPosition = startPos;\r\n        this.StartCoroutine(this.DoMoving());\r\n       
    this.InitCupImage();\r\n        this.cupBtn.interactable = false;\r\n    }\r\n   
    // Dispenser Coroutine\r\n    *DoMoving() {\r\n        while (!this.isCatch)
    {\r\n            const move = new UnityEngine_1.Vector2(UnityEngine_1.Time.deltaTime
    * this.speed * this.direction, 0);\r\n            this.cupTransform.anchoredPosition
    = UnityEngine_1.Vector2.op_Addition(this.cupTransform.anchoredPosition, move);\r\n           
    //If the current anchoredPosition (x) is greater than or equal to the maximum
    value that can be moved rightward\r\n            // Invert the movement speed
    + direction by multiplying it by -1 and setting the current anchoredPosition
    to the maximum value that can be moved to the right.\r\n            if (this.cupTransform.anchoredPosition.x
    >= this.rightMax.anchoredPosition.x) {\r\n                this.direction *= -1;\r\n               
    this.cupTransform.anchoredPosition = this.rightMax.anchoredPosition;\r\n           
    }\r\n            //If the current anchoredPosition (x) is greater than or equal
    to the maximum left-leasable (x),\r\n            // Invert movement speed + direction
    by multiplying -1 and setting the current anchoredPosition to the maximum value
    that can be moved to the left\r\n            else if (this.cupTransform.anchoredPosition.x
    <= this.leftMax.anchoredPosition.x) {\r\n                this.direction *= -1;\r\n               
    this.cupTransform.anchoredPosition = this.leftMax.anchoredPosition;\r\n           
    }\r\n            yield;\r\n        }\r\n    }\r\n    CheckDrink() {\r\n       
    if (this.cup) {\r\n            const state = this.cup.GetState();\r\n           
    if (state != Cup_1.CupState.DEFAULT) {\r\n                this.curDrink = this.GetDrinkByState(state);\r\n               
    this.SetCupImage(this.curDrink);\r\n                this.cupBtn.interactable
    = true;\r\n            }\r\n            else\r\n                this.InitCupImage();\r\n       
    }\r\n    }\r\n    GetDrinkByState(state) {\r\n        switch (state) {\r\n           
    case Cup_1.CupState.COKE:\r\n                return OrderManager_1.Drink.COKE;\r\n           
    case Cup_1.CupState.SPRITE:\r\n                return OrderManager_1.Drink.SPRITE;\r\n           
    case Cup_1.CupState.ZERO:\r\n                return OrderManager_1.Drink.ZERO_COKE;\r\n           
    case Cup_1.CupState.FANTA:\r\n                return OrderManager_1.Drink.FANTA;\r\n           
    case Cup_1.CupState.WATER:\r\n                return OrderManager_1.Drink.WATER;\r\n       
    }\r\n    }\r\n    InitCupImage() {\r\n        this.cupBtn.image.sprite = this.defaultCupSprite;\r\n   
    }\r\n    SetCupImage(drink) {\r\n        this.cupBtn.image.sprite = this.cupSprites[drink
    - OrderManager_1.Drink.START];\r\n    }\r\n}\r\nexports.default = Dispenser;\r\n//#
    sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRGlzcGVuc2VyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiRGlzcGVuc2VyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsNkNBQTJIO0FBQzNILG1EQUErQztBQUMvQyxpREFBcUQ7QUFDckQsK0JBQXNDO0FBQ3RDLGlEQUFxRDtBQUVyRCxNQUFxQixTQUFVLFNBQVEscUNBQXFCO0lBZXhELEtBQUs7UUFDRCxJQUFJLENBQUMsR0FBRyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLFlBQVksU0FBQyxhQUFHLEVBQUcsQ0FBQztRQUN0RCxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7UUFDWixJQUFJLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUMsR0FBRyxFQUFFO1lBQ2xDLElBQUksQ0FBQyxPQUFPLEdBQUcsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDO1lBQzdDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTztnQkFBRSxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7O2dCQUMxQixJQUFJLENBQUMsVUFBVSxFQUFFLENBQUM7UUFDM0IsQ0FBQyxDQUFDLENBQUM7UUFDSCxJQUFJLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUMsR0FBRyxFQUFFO1lBQ2pDLHNCQUFZLENBQUMsV0FBVyxFQUFFLENBQUMsa0JBQWtCLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ2pFLENBQUMsQ0FBQyxDQUFDO0lBQ1AsQ0FBQztJQUVELElBQUk7UUFDQSxJQUFJLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztRQUN6QixJQUFJLENBQUMsT0FBTyxHQUFHLEtBQUssQ0FBQztRQUNyQixNQUFNLFFBQVEsR0FBRyxJQUFJLHFCQUFPLENBQUMsb0JBQU0sQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxnQkFB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","assetPath":"Assets/Scripts/Dispenser.ts","manifest":{"properties":[{"assembly":"UnityEngine.CoreModule","name":"leftMax","type":"UnityEngine.RectTransform","isArray":false,"initValue":[],"enumKeys":[],"enumValues":[],"attributes":[]},{"assembly":"UnityEngine.CoreModule","name":"rightMax","type":"UnityEngine.RectTransform","isArray":false,"initValue":[],"enumKeys":[],"enumValues":[],"attributes":[]},{"assembly":"UnityEngine.CoreModule","name":"cupTransform","type":"UnityEngine.RectTransform","isArray":false,"initValue":[],"enumKeys":[],"enumValues":[],"attributes":[]},{"assembly":"mscorlib","name":"speed","type":"System.Single","isArray":false,"initValue":[],"enumKeys":[],"enumValues":[],"attributes":[]},{"assembly":"mscorlib","name":"direction","type":"System.Single","isArray":false,"initValue":[],"enumKeys":[],"enumValues":[],"attributes":[]},{"assembly":"UnityEngine.UI","name":"stopBtn","type":"UnityEngine.UI.Button","isArray":false,"initValue":[],"enumKeys":[],"enumValues":[],"attributes":[]},{"assembly":"UnityEngine.UI","name":"cupBtn","type":"UnityEngine.UI.Button","isArray":false,"initValue":[],"enumKeys":[],"enumValues":[],"attributes":[]},{"assembly":"","name":"cup","type":"C:/Users/Jun/Documents/GitHub/WakKitchen/Assets/Scripts/Cup.default","isArray":false,"initValue":[],"enumKeys":[],"enumValues":[],"attributes":[]},{"assembly":"UnityEngine.CoreModule","name":"defaultCupSprite","type":"UnityEngine.Sprite","isArray":false,"initValue":[],"enumKeys":[],"enumValues":[],"attributes":[]},{"assembly":"UnityEngine.CoreModule","name":"cupSprites","type":"UnityEngine.Sprite[]","isArray":true,"initValue":[],"enumKeys":[],"enumValues":[],"attributes":[]}],"name":"Dispenser","description":""},"isCompiled":true}'
  typescriptHash: 14eb63f588e8a3912c2fdeb587d58f8e
  onlyWriteTrigger: 0
