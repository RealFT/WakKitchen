fileFormatVersion: 2
guid: 3718fda636ccbab49a3e67c33670d077
importerOverride: ZEPETO.Script.Compiler:ZEPETO.Script:TypescriptAssetImporter
ScriptedImporter:
  internalIDToNameTable: []
  externalObjects: {}
  serializedVersion: 2
  userData: 
  assetBundleName: 
  assetBundleVariant: 
  script: {fileID: -1123457745, guid: 54cf806323ffe4418a4ce4cc63fe6b9d, type: 3}
  isAssemblyDeclarations: 0
  assembly: 
  generateAllTypes: 1
  types: []
  generateWrapper: 0
  overrideWrapperTypes: 0
  wrapperTypes: []
  WrapperFilters: []
  wrapperOutputDirectory: Generated
  compiledResult: '{"source":"\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\",
    { value: true });\r\nconst UnityEngine_1 = require(\"UnityEngine\");\r\nconst
    ZEPETO_Script_1 = require(\"ZEPETO.Script\");\r\nconst Cup_1 = require(\"./Cup\");\r\nconst
    OrderManager_1 = require(\"./OrderManager\");\r\nclass Dispenser extends ZEPETO_Script_1.ZepetoScriptBehaviour
    {\r\n    Start() {\r\n        this.cup = this.cupBtn.gameObject.GetComponent($typeof(Cup_1.default));\r\n       
    this.init();\r\n        this.stopBtn.onClick.AddListener(() => {\r\n           
    this.isCatch = (this.isCatch) ? false : true;\r\n            if (!this.isCatch)\r\n               
    this.init();\r\n            else\r\n                this.CheckDrink();\r\n       
    });\r\n        this.cupBtn.onClick.AddListener(() => {\r\n            OrderManager_1.default.GetInstance().AddItemToInventory(this.curDrink);\r\n           
    this.cupBtn.gameObject.SetActive(false);\r\n        });\r\n    }\r\n    init()
    {\r\n        this.StopAllCoroutines();\r\n        this.isCatch = false;\r\n       
    const startPos = new UnityEngine_1.Vector2(UnityEngine_1.Random.Range(this.leftMax.anchoredPosition.x,
    this.rightMax.anchoredPosition.x), this.cupTransform.anchoredPosition.y);\r\n       
    this.cupTransform.anchoredPosition = startPos;\r\n        this.StartCoroutine(this.DoMoving());\r\n       
    this.InitCupImage();\r\n        this.cupBtn.interactable = false;\r\n       
    this.cupBtn.gameObject.SetActive(true);\r\n    }\r\n    // Dispenser Coroutine\r\n   
    *DoMoving() {\r\n        while (!this.isCatch) {\r\n            const move =
    new UnityEngine_1.Vector2(UnityEngine_1.Time.deltaTime * this.speed * this.direction,
    0);\r\n            this.cupTransform.anchoredPosition = UnityEngine_1.Vector2.op_Addition(this.cupTransform.anchoredPosition,
    move);\r\n            //If the current anchoredPosition (x) is greater than or
    equal to the maximum value that can be moved rightward\r\n            // Invert
    the movement speed + direction by multiplying it by -1 and setting the current
    anchoredPosition to the maximum value that can be moved to the right.\r\n           
    if (this.cupTransform.anchoredPosition.x >= this.rightMax.anchoredPosition.x)
    {\r\n                this.direction *= -1;\r\n                this.cupTransform.anchoredPosition
    = this.rightMax.anchoredPosition;\r\n            }\r\n            //If the current
    anchoredPosition (x) is greater than or equal to the maximum left-leasable (x),\r\n           
    // Invert movement speed + direction by multiplying -1 and setting the current
    anchoredPosition to the maximum value that can be moved to the left\r\n           
    else if (this.cupTransform.anchoredPosition.x <= this.leftMax.anchoredPosition.x)
    {\r\n                this.direction *= -1;\r\n                this.cupTransform.anchoredPosition
    = this.leftMax.anchoredPosition;\r\n            }\r\n            yield;\r\n       
    }\r\n    }\r\n    CheckDrink() {\r\n        if (this.cup) {\r\n            const
    state = this.cup.GetState();\r\n            if (state != Cup_1.CupState.DEFAULT)
    {\r\n                this.curDrink = this.GetDrinkByState(state);\r\n               
    this.SetCupImage(this.curDrink);\r\n                this.cupBtn.interactable
    = true;\r\n            }\r\n            else\r\n                this.InitCupImage();\r\n       
    }\r\n    }\r\n    GetDrinkByState(state) {\r\n        switch (state) {\r\n           
    case Cup_1.CupState.COKE:\r\n                return OrderManager_1.Drink.COKE;\r\n           
    case Cup_1.CupState.SPRITE:\r\n                return OrderManager_1.Drink.SPRITE;\r\n           
    case Cup_1.CupState.ZERO:\r\n                return OrderManager_1.Drink.ZERO_COKE;\r\n           
    case Cup_1.CupState.FANTA:\r\n                return OrderManager_1.Drink.FANTA;\r\n           
    case Cup_1.CupState.WATER:\r\n                return OrderManager_1.Drink.WATER;\r\n       
    }\r\n    }\r\n    InitCupImage() {\r\n        this.cupBtn.image.sprite = this.defaultCupSprite;\r\n   
    }\r\n    SetCupImage(drink) {\r\n        this.cupBtn.image.sprite = this.cupSprites[drink
    - OrderManager_1.Drink.START];\r\n    }\r\n}\r\nexports.default = Dispenser;\r\n//#
    sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRGlzcGVuc2VyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiRGlzcGVuc2VyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsNkNBQTJIO0FBRTNILGlEQUFxRDtBQUNyRCwrQkFBc0M7QUFDdEMsaURBQXFEO0FBRXJELE1BQXFCLFNBQVUsU0FBUSxxQ0FBcUI7SUFleEQsS0FBSztRQUNELElBQUksQ0FBQyxHQUFHLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxVQUFVLENBQUMsWUFBWSxTQUFDLGFBQUcsRUFBRyxDQUFDO1FBQ3RELElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztRQUNaLElBQUksQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQyxHQUFHLEVBQUU7WUFDbEMsSUFBSSxDQUFDLE9BQU8sR0FBRyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7WUFDN0MsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPO2dCQUFFLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQzs7Z0JBQzFCLElBQUksQ0FBQyxVQUFVLEVBQUUsQ0FBQztRQUMzQixDQUFDLENBQUMsQ0FBQztRQUNILElBQUksQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQyxHQUFHLEVBQUU7WUFDakMsc0JBQVksQ0FBQyxXQUFXLEVBQUUsQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7WUFDN0QsSUFBSSxDQUFDLE1BQU0sQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQzVDLENBQUMsQ0FBQyxDQUFDO0lBQ1AsQ0FBQztJQUVELElBQUk7UUFDQSxJQUFJLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztRQUN6QixJQUFJLENBQUMsT0FBTyxHQUFHLEtBQUssQ0FBQztRQUNyQixNQUFNLFFBQVEsR0FBRyxJQUFJLHFCQUFPLENB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","assetPath":"Assets/Scripts/Dispenser.ts","manifest":{"properties":[{"assembly":"UnityEngine.CoreModule","name":"leftMax","type":"UnityEngine.RectTransform","isArray":false,"initValue":[],"enumKeys":[],"enumValues":[],"attributes":[]},{"assembly":"UnityEngine.CoreModule","name":"rightMax","type":"UnityEngine.RectTransform","isArray":false,"initValue":[],"enumKeys":[],"enumValues":[],"attributes":[]},{"assembly":"UnityEngine.CoreModule","name":"cupTransform","type":"UnityEngine.RectTransform","isArray":false,"initValue":[],"enumKeys":[],"enumValues":[],"attributes":[]},{"assembly":"mscorlib","name":"speed","type":"System.Single","isArray":false,"initValue":[],"enumKeys":[],"enumValues":[],"attributes":[]},{"assembly":"mscorlib","name":"direction","type":"System.Single","isArray":false,"initValue":[],"enumKeys":[],"enumValues":[],"attributes":[]},{"assembly":"UnityEngine.UI","name":"stopBtn","type":"UnityEngine.UI.Button","isArray":false,"initValue":[],"enumKeys":[],"enumValues":[],"attributes":[]},{"assembly":"UnityEngine.UI","name":"cupBtn","type":"UnityEngine.UI.Button","isArray":false,"initValue":[],"enumKeys":[],"enumValues":[],"attributes":[]},{"assembly":"","name":"cup","type":"C:/Users/cba08/Documents/GitHub/WakKitchen/Assets/Scripts/Cup.default","isArray":false,"initValue":[],"enumKeys":[],"enumValues":[],"attributes":[]},{"assembly":"UnityEngine.CoreModule","name":"defaultCupSprite","type":"UnityEngine.Sprite","isArray":false,"initValue":[],"enumKeys":[],"enumValues":[],"attributes":[]},{"assembly":"UnityEngine.CoreModule","name":"cupSprites","type":"UnityEngine.Sprite[]","isArray":true,"initValue":[],"enumKeys":[],"enumValues":[],"attributes":[]}],"name":"Dispenser","description":""},"isCompiled":true}'
  typescriptHash: f90d167508e9c8879db49b385d05a096
  onlyWriteTrigger: 0
