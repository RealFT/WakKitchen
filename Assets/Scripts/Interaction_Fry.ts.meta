fileFormatVersion: 2
guid: cc31d61d807bd324e9e691e54fe9685e
importerOverride: ZEPETO.Script.Compiler:ZEPETO.Script:TypescriptAssetImporter
ScriptedImporter:
  internalIDToNameTable: []
  externalObjects: {}
  serializedVersion: 2
  userData: 
  assetBundleName: 
  assetBundleVariant: 
  script: {fileID: -1123457745, guid: 54cf806323ffe4418a4ce4cc63fe6b9d, type: 3}
  isAssemblyDeclarations: 0
  assembly: 
  generateAllTypes: 1
  types: []
  generateWrapper: 0
  overrideWrapperTypes: 0
  wrapperTypes: []
  WrapperFilters: []
  wrapperOutputDirectory: Generated
  compiledResult: '{"source":"\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\",
    { value: true });\r\nconst UnityEngine_1 = require(\"UnityEngine\");\r\nconst
    UnityEngine_UI_1 = require(\"UnityEngine.UI\");\r\nconst FrySlot_1 = require(\"./FrySlot\");\r\nconst
    InteractionBase_1 = require(\"./InteractionBase\");\r\nconst Mediator_1 = require(\"./Notification/Mediator\");\r\nconst
    ItemManager_1 = require(\"./ItemManager\");\r\nconst DataManager_1 = require(\"./DataManager\");\r\nconst
    SoundManager_1 = require(\"./SoundManager\");\r\nconst HelpManager_1 = require(\"./Help/HelpManager\");\r\nconst
    GameManager_1 = require(\"./GameManager\");\r\nclass Interaction_Fry extends
    InteractionBase_1.default {\r\n    Start() {\r\n        super.Start();\r\n       
    this.helpButton.onClick.AddListener(() => {\r\n            HelpManager_1.default.GetInstance().OpenHelpSection(\"fryer\");\r\n       
    });\r\n        this.fryPanel.SetActive(true);\r\n        this.kitchen.SetActive(true);\r\n       
    this.isDouble = false;\r\n        this.unlockDouble.SetActive(false);\r\n       
    const upgradedlevel = ItemManager_1.default.GetInstance().GetUpgradedLevel(\"fryer\");\r\n       
    this.FryUnlock(upgradedlevel);\r\n        for (let i = 0; i < this.frySlotObjects.length;
    i++) {\r\n            let slot = this.frySlotObjects[i].GetComponent($typeof(FrySlot_1.default));\r\n           
    slot.onBakeLevelChanged = (level) => {\r\n                this.PlayBakeLevelSFX();\r\n               
    if (level == 3)\r\n                    SoundManager_1.default.GetInstance().OnPlayLoopSFX(\"Fryer_level3\");\r\n           
    };\r\n        }\r\n        Mediator_1.default.GetInstance().RegisterListener(this);\r\n   
    }\r\n    OnDestroy() {\r\n        Mediator_1.default.GetInstance().UnregisterListener(this);\r\n   
    }\r\n    Init() {\r\n        //Button Hide\r\n        this.SetKitchenVisibility(false);\r\n       
    this.openButton.gameObject.SetActive(false);\r\n        const isUnlock = DataManager_1.default.GetInstance().GetIsUnlockByName(this.sectionName);\r\n       
    // if name is empty, don''t use this logic.\r\n        if (this.sectionName !=
    \"\") {\r\n            this.defaultTable.SetActive(!isUnlock);\r\n           
    this.sectionObject.SetActive(isUnlock);\r\n            this.sectionCollider.enabled
    = isUnlock;\r\n        }\r\n    }\r\n    OnNotify(sender, eventName, eventData)
    {\r\n        switch (eventName) {\r\n            case Mediator_1.EventNames.StageStarted:\r\n           
    case Mediator_1.EventNames.StageEnded:\r\n                this.Init();\r\n               
    this.frySlotObjects.forEach((slotObj) => {\r\n                    let slot =
    slotObj.GetComponent($typeof(FrySlot_1.default));\r\n                    slot.Init();\r\n               
    });\r\n                SoundManager_1.default.GetInstance().StopSFX();\r\n               
    break;\r\n            case Mediator_1.EventNames.UpgradeUpdated:\r\n               
    const upgradedlevel = ItemManager_1.default.GetInstance().GetUpgradedLevel(\"fryer\");\r\n               
    this.FryUnlock(upgradedlevel);\r\n                break;\r\n        }\r\n   
    }\r\n    OnTriggerEnter(collider) {\r\n        super.OnTriggerEnter(collider);\r\n       
    this.PlayBakeLevelSFX();\r\n    }\r\n    PlayBakeLevelSFX() {\r\n        if (!GameManager_1.default.GetInstance().isInGame)\r\n           
    return;\r\n        let maxBakeLevel = 0;\r\n        this.frySlotObjects.forEach((slotObj)
    => {\r\n            let slot = slotObj.GetComponent($typeof(FrySlot_1.default));\r\n           
    const bakeLevel = slot.GetBakeLevel();\r\n            maxBakeLevel = (bakeLevel
    > maxBakeLevel) ? bakeLevel : maxBakeLevel;\r\n        });\r\n        switch
    (maxBakeLevel) {\r\n            case 0: // nothing\r\n                break;\r\n           
    case 1: // baking\r\n                SoundManager_1.default.GetInstance().OnPlayLoopSFX(\"Fryer_level1\");\r\n               
    break;\r\n            case 2: // done\r\n                SoundManager_1.default.GetInstance().OnPlayLoopSFX(\"Fryer_level2\");\r\n               
    break;\r\n            case 3: // burnt\r\n                SoundManager_1.default.GetInstance().OnPlayLoopSFX(\"Fryer_level3\");\r\n               
    break;\r\n        }\r\n    }\r\n    OnTriggerExit(collider) {\r\n        super.OnTriggerExit(collider);\r\n       
    SoundManager_1.default.GetInstance().StopSFX();\r\n    }\r\n    SetKitchenVisibility(value)
    {\r\n        super.SetKitchenVisibility(value);\r\n        let sfx = false;\r\n       
    for (let i = 0; i < this.images.length; i++) {\r\n            this.images[i].enabled
    = value;\r\n        }\r\n        for (let i = 0; i < this.frySlotObjects.length;
    i++) {\r\n            let slot = this.frySlotObjects[i].GetComponent($typeof(FrySlot_1.default));\r\n           
    slot.SetFryVisibility(value);\r\n        }\r\n        if (this.isDouble)\r\n           
    this.unlockDouble.SetActive(value);\r\n    }\r\n    FryUnlock(level) {\r\n       
    let slots = [];\r\n        for (let i = 0; i < this.frySlotObjects.length; i++)
    {\r\n            slots.push(this.frySlotObjects[i].GetComponent($typeof(FrySlot_1.default)));\r\n       
    }\r\n        if (level >= 0) {\r\n            slots[0].UnlockSlot();\r\n       
    }\r\n        if (level >= 1) {\r\n            slots[1].UnlockSlot();\r\n       
    }\r\n        if (level >= 2) {\r\n            slots[0].UnlockClock();\r\n           
    slots[1].UnlockClock();\r\n        }\r\n        if (level >= 3) {\r\n           
    slots[0].Double();\r\n            slots[1].Double();\r\n            this.unlockDouble.SetActive(true);\r\n           
    this.isDouble = true;\r\n        }\r\n    }\r\n}\r\nexports.default = Interaction_Fry;\r\n//#
    sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiSW50ZXJhY3Rpb25fRnJ5LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiSW50ZXJhY3Rpb25fRnJ5LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsNkNBQXlDO0FBQ3pDLG1EQUErQztBQUMvQyx1Q0FBZ0M7QUFDaEMsdURBQWdEO0FBQ2hELHNEQUEwRTtBQUMxRSwrQ0FBd0M7QUFDeEMsK0NBQXFEO0FBQ3JELGlEQUEwQztBQUMxQyxvREFBNkM7QUFDN0MsK0NBQXdDO0FBRXhDLE1BQXFCLGVBQWdCLFNBQVEseUJBQWU7SUFTeEQsS0FBSztRQUNELEtBQUssQ0FBQyxLQUFLLEVBQUUsQ0FBQztRQUVkLElBQUksQ0FBQyxVQUFVLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQyxHQUFHLEVBQUU7WUFDckMscUJBQVcsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxlQUFlLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDdkQsQ0FBQyxDQUFDLENBQUM7UUFFSCxJQUFJLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUM5QixJQUFJLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUM3QixJQUFJLENBQUMsUUFBUSxHQUFHLEtBQUssQ0FBQztRQUN0QixJQUFJLENBQUMsWUFBWSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNuQyxNQUFNLGFBQWEsR0FBRyxxQkFBVyxDQUFDLFdBQVcsRUFBRSxDQUFDLGdCQUFnQixDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQzFFLElBQUksQ0FBQyxTQUFTLENBQUMsYUFBYSxDQUFDLENBQUM7UUFFOUIsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxjQUFjLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO1lBQ2pELElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDLENBQUMsWUFB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","assetPath":"Assets/Scripts/Interaction_Fry.ts","manifest":{"properties":[{"assembly":"UnityEngine.UI","name":"helpButton","type":"UnityEngine.UI.Button","isArray":false,"initValue":[],"enumKeys":[],"enumValues":[],"attributes":[{"name":"SerializeField","args":[]}]},{"assembly":"UnityEngine.CoreModule","name":"frySlotObjects","type":"UnityEngine.GameObject[]","isArray":true,"initValue":[],"enumKeys":[],"enumValues":[],"attributes":[{"name":"SerializeField","args":[]}]},{"assembly":"UnityEngine.UI","name":"images","type":"UnityEngine.UI.Image[]","isArray":true,"initValue":[],"enumKeys":[],"enumValues":[],"attributes":[{"name":"SerializeField","args":[]}]},{"assembly":"UnityEngine.CoreModule","name":"fryPanel","type":"UnityEngine.GameObject","isArray":false,"initValue":[],"enumKeys":[],"enumValues":[],"attributes":[{"name":"SerializeField","args":[]}]},{"assembly":"UnityEngine.CoreModule","name":"defaultTable","type":"UnityEngine.GameObject","isArray":false,"initValue":[],"enumKeys":[],"enumValues":[],"attributes":[{"name":"SerializeField","args":[]}]},{"assembly":"UnityEngine.CoreModule","name":"unlockDouble","type":"UnityEngine.GameObject","isArray":false,"initValue":[],"enumKeys":[],"enumValues":[],"attributes":[{"name":"SerializeField","args":[]}]},{"assembly":"UnityEngine.UI","name":"openButton","type":"UnityEngine.UI.Button","isArray":false,"initValue":[],"enumKeys":[],"enumValues":[],"attributes":[{"name":"SerializeField","args":[]}]},{"assembly":"UnityEngine.UI","name":"escapeButton","type":"UnityEngine.UI.Button","isArray":false,"initValue":[],"enumKeys":[],"enumValues":[],"attributes":[{"name":"SerializeField","args":[]}]},{"assembly":"UnityEngine.CoreModule","name":"kitchen","type":"UnityEngine.GameObject","isArray":false,"initValue":[],"enumKeys":[],"enumValues":[],"attributes":[{"name":"SerializeField","args":[]}]},{"assembly":"UnityEngine.CoreModule","name":"sectionObject","type":"UnityEngine.GameObject","isArray":false,"initValue":[],"enumKeys":[],"enumValues":[],"attributes":[{"name":"SerializeField","args":[]}]},{"assembly":"UnityEngine.PhysicsModule","name":"sectionCollider","type":"UnityEngine.Collider","isArray":false,"initValue":[],"enumKeys":[],"enumValues":[],"attributes":[{"name":"SerializeField","args":[]}]},{"assembly":"mscorlib","name":"sectionName","type":"System.String","isArray":false,"initValue":[],"enumKeys":[],"enumValues":[],"attributes":[{"name":"SerializeField","args":[]}]}],"name":"Interaction_Fry","description":""},"isCompiled":true}'
  typescriptHash: dd0593cbf143a5cd6da80e5bde764c1b
  onlyWriteTrigger: 0
