fileFormatVersion: 2
guid: 8c81d0780d21f204089ae112693c0c52
importerOverride: ZEPETO.Script.Compiler:ZEPETO.Script:TypescriptAssetImporter
ScriptedImporter:
  internalIDToNameTable: []
  externalObjects: {}
  serializedVersion: 2
  userData: 
  assetBundleName: 
  assetBundleVariant: 
  script: {fileID: -1123457745, guid: 54cf806323ffe4418a4ce4cc63fe6b9d, type: 3}
  isAssemblyDeclarations: 0
  assembly: 
  generateAllTypes: 1
  types: []
  generateWrapper: 0
  overrideWrapperTypes: 0
  wrapperTypes: []
  WrapperFilters: []
  wrapperOutputDirectory: Generated
  compiledResult: "{\"source\":\"\\\"use strict\\\";\\r\\nObject.defineProperty(exports,
    \\\"__esModule\\\", { value: true });\\r\\nconst UnityEngine_1 = require(\\\"UnityEngine\\\");\\r\\nconst
    UnityEngine_UI_1 = require(\\\"UnityEngine.UI\\\");\\r\\nconst ZEPETO_Script_1
    = require(\\\"ZEPETO.Script\\\");\\r\\nconst ItemManager_1 = require(\\\"../ItemManager\\\");\\r\\nconst
    Card_1 = require(\\\"../Employee/Card\\\");\\r\\nconst DataManager_1 = require(\\\"../DataManager\\\");\\r\\nconst
    ZEPETO_World_1 = require(\\\"ZEPETO.World\\\");\\r\\nconst ZEPETO_Multiplay_1
    = require(\\\"ZEPETO.Multiplay\\\");\\r\\nconst CardData_1 = require(\\\"../Employee/CardData\\\");\\r\\nconst
    BalanceManager_1 = require(\\\"./BalanceManager\\\");\\r\\nconst SoundManager_1
    = require(\\\"../SoundManager\\\");\\r\\nclass Shop_Employee extends ZEPETO_Script_1.ZepetoScriptBehaviour
    {\\r\\n    constructor() {\\r\\n        super(...arguments);\\r\\n        this.cost
    = 500;\\r\\n        this.gradeRanges = [\\r\\n            { grade: \\\"s\\\",
    min: 0, max: 1.9 },\\r\\n            { grade: \\\"a\\\", min: 1.9, max: 6.7 },\\r\\n           
    { grade: \\\"b\\\", min: 6.7, max: 30.3 },\\r\\n            { grade: \\\"c\\\",
    min: 30.3, max: 60.8 },\\r\\n            { grade: \\\"d\\\", min: 60.8, max:
    100 }\\r\\n        ];\\r\\n    }\\r\\n    InitEmployeeShop() {\\r\\n    }\\r\\n   
    Start() {\\r\\n        this.cards = this.cardLayout.GetComponentsInChildren($typeof(Card_1.default));\\r\\n       
    this.buyButton.onClick.AddListener(() => {\\r\\n            this.OnBuyButtonClick();\\r\\n           
    SoundManager_1.default.GetInstance().OnPlaySFX(\\\"Purchase\\\");\\r\\n       
    });\\r\\n    }\\r\\n    GetRandomCard() {\\r\\n        // get random value 0~100\\r\\n       
    const randomValue = Math.random() * 100;\\r\\n        // \uB79C\uB364 \uAC12\uC774
    \uC18D\uD55C \uB4F1\uAE09\uC744 \uCC3E\uC74C\\r\\n        let cardGrade = \\\"d\\\";
    // D \uB4F1\uAE09\uC73C\uB85C \uCD08\uAE30\uD654\\r\\n        for (const range
    of this.gradeRanges) {\\r\\n            if (randomValue >= range.min && randomValue
    < range.max) {\\r\\n                cardGrade = range.grade;\\r\\n               
    break;\\r\\n            }\\r\\n        }\\r\\n        // \uB4F1\uAE09\uC5D0 \uB9DE\uB294
    \uB79C\uB364 \uCE74\uB4DC \uC120\uD0DD\\r\\n        const cardData = DataManager_1.default.GetInstance().GetRandomCardByGrade(cardGrade);\\r\\n       
    if (cardData) {\\r\\n            return cardData;\\r\\n        }\\r\\n       
    else {\\r\\n            // console.log(\\\"GetRandomCard: undefined\\\");\\r\\n           
    return undefined;\\r\\n        }\\r\\n    }\\r\\n    OnBuyButtonClick() {\\r\\n       
    console.log(\\\"OnBuyButtonClick\\\");\\r\\n        if (!BalanceManager_1.default.GetInstance().UseBalance(\\\"wak\\\",
    this.cost))\\r\\n            return;\\r\\n        // cards.length \uB9CC\uD07C\uC758
    \uCE74\uB4DC\uB97C \uAD6C\uB9E4\\r\\n        const purchasedCards = [];\\r\\n       
    for (let i = 0; i < this.cards.length; i++) {\\r\\n            const cardData
    = this.GetRandomCard();\\r\\n            if (cardData) {\\r\\n               
    purchasedCards.push(cardData);\\r\\n                DataManager_1.default.GetInstance().AddCard(cardData.GetCardId());\\r\\n           
    }\\r\\n        }\\r\\n        console.log(purchasedCards.length);\\r\\n       
    if (purchasedCards.length > 0) {\\r\\n            this.resultPanel.SetActive(true);\\r\\n           
    for (let i = 0; i < purchasedCards.length; i++) {\\r\\n                const
    cardData = purchasedCards[i];\\r\\n                const cardId = cardData.GetCardId();\\r\\n               
    this.SetResultCard(this.cards[i], cardData);\\r\\n            }\\r\\n       
    }\\r\\n    }\\r\\n    SetResultCard(card, cardData) {\\r\\n        const cardId
    = cardData.GetCardId();\\r\\n        const grade = cardData.GetGrade();\\r\\n       
    card.SetCard(cardId, grade, DataManager_1.default.GetInstance().GetCharacterCardSprite(cardData.GetCharacterIndex()));\\r\\n   
    }\\r\\n}\\r\\nexports.default = Shop_Employee;\\r\\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU2hvcF9FbXBsb3llZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIlNob3BfRW1wbG95ZWUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSw2Q0FBd0M7QUFDeEMsbURBQXdDO0FBQ3hDLGlEQUFxRDtBQUVyRCxnREFBeUM7QUFDekMsMkNBQW9DO0FBQ3BDLGdEQUF5QztBQUN6QywrQ0FBa0Q7QUFDbEQsdURBQWdEO0FBQ2hELG1EQUE0QztBQUM1QyxxREFBOEM7QUFDOUMsa0RBQTJDO0FBUTNDLE1BQXFCLGFBQWMsU0FBUSxxQ0FBcUI7SUFBaEU7O1FBTThCLFNBQUksR0FBVyxHQUFHLENBQUM7UUFFckMsZ0JBQVcsR0FBaUI7WUFDaEMsRUFBRSxLQUFLLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRTtZQUNoQyxFQUFFLEtBQUssRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFO1lBQ2xDLEVBQUUsS0FBSyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxJQUFJLEVBQUU7WUFDbkMsRUFBRSxLQUFLLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLElBQUksRUFBRTtZQUNwQyxFQUFFLEtBQUssRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFO1NBQ3RDLENBQUM7SUFtRU4sQ0FBQztJQWpFVSxnQkFBZ0I7SUFFdkIsQ0FBQztJQUVELEtBQUs7UUFDRCxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsdUJBQXVCLFNBQUMsY0FBSSxFQUFHLENBQUM7UUFDN0QsSUFBSSxDQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDLEdBQUcsRUFBRTtZQUNwQyxJQUFJLENBQUMsZ0JBQWdCLEVBQUUs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\",\"assetPath\":\"Assets/Scripts/Shop/Shop_Employee.ts\",\"manifest\":{\"properties\":[{\"assembly\":\"UnityEngine.UI\",\"name\":\"buyButton\",\"type\":\"UnityEngine.UI.Button\",\"isArray\":false,\"initValue\":[],\"enumKeys\":[],\"enumValues\":[],\"attributes\":[{\"name\":\"SerializeField\",\"args\":[]}]},{\"assembly\":\"UnityEngine.CoreModule\",\"name\":\"resultPanel\",\"type\":\"UnityEngine.GameObject\",\"isArray\":false,\"initValue\":[],\"enumKeys\":[],\"enumValues\":[],\"attributes\":[{\"name\":\"SerializeField\",\"args\":[]}]},{\"assembly\":\"UnityEngine.CoreModule\",\"name\":\"cardLayout\",\"type\":\"UnityEngine.GameObject\",\"isArray\":false,\"initValue\":[],\"enumKeys\":[],\"enumValues\":[],\"attributes\":[{\"name\":\"SerializeField\",\"args\":[]}]},{\"assembly\":\"\",\"name\":\"cards\",\"type\":\"C:/Users/Jun/Documents/GitHub/WakKitchen/Assets/Scripts/Employee/Card.default\",\"isArray\":true,\"initValue\":[],\"enumKeys\":[],\"enumValues\":[],\"attributes\":[{\"name\":\"SerializeField\",\"args\":[]}]},{\"assembly\":\"mscorlib\",\"name\":\"cost\",\"type\":\"System.Single\",\"isArray\":false,\"initValue\":[\"500\"],\"enumKeys\":[],\"enumValues\":[],\"attributes\":[{\"name\":\"SerializeField\",\"args\":[]}]}],\"name\":\"Shop_Employee\",\"description\":\"\"},\"isCompiled\":true}"
  typescriptHash: 256243f73c464fae95565245d5e91da2
  onlyWriteTrigger: 0
