fileFormatVersion: 2
guid: 8c81d0780d21f204089ae112693c0c52
importerOverride: ZEPETO.Script.Compiler:ZEPETO.Script:TypescriptAssetImporter
ScriptedImporter:
  internalIDToNameTable: []
  externalObjects: {}
  serializedVersion: 2
  userData: 
  assetBundleName: 
  assetBundleVariant: 
  script: {fileID: -1123457745, guid: 54cf806323ffe4418a4ce4cc63fe6b9d, type: 3}
  isAssemblyDeclarations: 0
  assembly: 
  generateAllTypes: 1
  types: []
  generateWrapper: 0
  overrideWrapperTypes: 0
  wrapperTypes: []
  WrapperFilters: []
  wrapperOutputDirectory: Generated
  compiledResult: "{\"source\":\"\\\"use strict\\\";\\r\\nObject.defineProperty(exports,
    \\\"__esModule\\\", { value: true });\\r\\nconst UnityEngine_1 = require(\\\"UnityEngine\\\");\\r\\nconst
    UnityEngine_UI_1 = require(\\\"UnityEngine.UI\\\");\\r\\nconst ZEPETO_Script_1
    = require(\\\"ZEPETO.Script\\\");\\r\\nconst ItemManager_1 = require(\\\"../ItemManager\\\");\\r\\nconst
    Card_1 = require(\\\"../Employee/Card\\\");\\r\\nconst DataManager_1 = require(\\\"../DataManager\\\");\\r\\nconst
    ZEPETO_World_1 = require(\\\"ZEPETO.World\\\");\\r\\nconst ZEPETO_Multiplay_1
    = require(\\\"ZEPETO.Multiplay\\\");\\r\\nconst CardData_1 = require(\\\"../Employee/CardData\\\");\\r\\nconst
    BalanceManager_1 = require(\\\"./BalanceManager\\\");\\r\\nconst SoundManager_1
    = require(\\\"../SoundManager\\\");\\r\\nclass Shop_Hire extends ZEPETO_Script_1.ZepetoScriptBehaviour
    {\\r\\n    constructor() {\\r\\n        super(...arguments);\\r\\n        this.cost
    = 500;\\r\\n        this.gradeRanges = [\\r\\n            { grade: \\\"s\\\",
    min: 0, max: 1.9 },\\r\\n            { grade: \\\"a\\\", min: 1.9, max: 6.7 },\\r\\n           
    { grade: \\\"b\\\", min: 6.7, max: 30.3 },\\r\\n            { grade: \\\"c\\\",
    min: 30.3, max: 60.8 },\\r\\n            { grade: \\\"d\\\", min: 60.8, max:
    100 }\\r\\n        ];\\r\\n    }\\r\\n    InitHireShop() {\\r\\n    }\\r\\n   
    Start() {\\r\\n        this.cards = this.cardLayout.GetComponentsInChildren($typeof(Card_1.default));\\r\\n       
    this.buyButton.onClick.AddListener(() => {\\r\\n            this.OnBuyButtonClick();\\r\\n           
    SoundManager_1.default.GetInstance().OnPlaySFX(\\\"Purchase\\\");\\r\\n       
    });\\r\\n    }\\r\\n    GetRandomCard() {\\r\\n        // get random value 0~100\\r\\n       
    const randomValue = Math.random() * 100;\\r\\n        // \uB79C\uB364 \uAC12\uC774
    \uC18D\uD55C \uB4F1\uAE09\uC744 \uCC3E\uC74C\\r\\n        let cardGrade = \\\"d\\\";
    // D \uB4F1\uAE09\uC73C\uB85C \uCD08\uAE30\uD654\\r\\n        for (const range
    of this.gradeRanges) {\\r\\n            if (randomValue >= range.min && randomValue
    < range.max) {\\r\\n                cardGrade = range.grade;\\r\\n               
    break;\\r\\n            }\\r\\n        }\\r\\n        // \uB4F1\uAE09\uC5D0 \uB9DE\uB294
    \uB79C\uB364 \uCE74\uB4DC \uC120\uD0DD\\r\\n        const cardData = DataManager_1.default.GetInstance().GetRandomCardByGrade(cardGrade);\\r\\n       
    if (cardData) {\\r\\n            return cardData;\\r\\n        }\\r\\n       
    else {\\r\\n            console.log(\\\"GetRandomCard: undefined\\\");\\r\\n           
    return undefined;\\r\\n        }\\r\\n    }\\r\\n    OnBuyButtonClick() {\\r\\n       
    console.log(\\\"OnBuyButtonClick\\\");\\r\\n        if (!BalanceManager_1.default.GetInstance().UseBalance(\\\"wak\\\",
    this.cost))\\r\\n            return;\\r\\n        // cards.length \uB9CC\uD07C\uC758
    \uCE74\uB4DC\uB97C \uAD6C\uB9E4\\r\\n        const purchasedCards = [];\\r\\n       
    for (let i = 0; i < this.cards.length; i++) {\\r\\n            const cardData
    = this.GetRandomCard();\\r\\n            if (cardData) {\\r\\n               
    purchasedCards.push(cardData);\\r\\n                DataManager_1.default.GetInstance().AddCard(cardData.GetCardId());\\r\\n           
    }\\r\\n        }\\r\\n        console.log(purchasedCards.length);\\r\\n       
    if (purchasedCards.length > 0) {\\r\\n            this.resultPanel.SetActive(true);\\r\\n           
    for (let i = 0; i < purchasedCards.length; i++) {\\r\\n                const
    cardData = purchasedCards[i];\\r\\n                const cardId = cardData.GetCardId();\\r\\n               
    this.SetResultCard(this.cards[i], cardData);\\r\\n            }\\r\\n       
    }\\r\\n    }\\r\\n    SetResultCard(card, cardData) {\\r\\n        const cardId
    = cardData.GetCardId();\\r\\n        const grade = cardData.GetGrade();\\r\\n       
    card.SetCard(cardId, grade, DataManager_1.default.GetInstance().GetCharacterCardSprite(cardData.GetCharacterIndex()));\\r\\n   
    }\\r\\n}\\r\\nexports.default = Shop_Hire;\\r\\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU2hvcF9IaXJlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiU2hvcF9IaXJlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsNkNBQXdDO0FBQ3hDLG1EQUF3QztBQUN4QyxpREFBcUQ7QUFFckQsZ0RBQXlDO0FBQ3pDLDJDQUFvQztBQUNwQyxnREFBeUM7QUFDekMsK0NBQWtEO0FBQ2xELHVEQUFnRDtBQUNoRCxtREFBNEM7QUFDNUMscURBQThDO0FBQzlDLGtEQUEyQztBQVEzQyxNQUFxQixTQUFVLFNBQVEscUNBQXFCO0lBQTVEOztRQU04QixTQUFJLEdBQVcsR0FBRyxDQUFDO1FBRXJDLGdCQUFXLEdBQWlCO1lBQ2hDLEVBQUUsS0FBSyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUU7WUFDaEMsRUFBRSxLQUFLLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRTtZQUNsQyxFQUFFLEtBQUssRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFO1lBQ25DLEVBQUUsS0FBSyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxJQUFJLEVBQUU7WUFDcEMsRUFBRSxLQUFLLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRTtTQUN0QyxDQUFDO0lBbUVOLENBQUM7SUFqRVUsWUFBWTtJQUVuQixDQUFDO0lBRUQsS0FBSztRQUNELElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyx1QkFBdUIsU0FBQyxjQUFJLEVBQUcsQ0FBQztRQUM3RCxJQUFJLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUMsR0FBRyxFQUFFO1lBQ3BDLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDO1lBQ3hC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\",\"assetPath\":\"Assets/Scripts/Shop/Shop_Hire.ts\",\"manifest\":{\"properties\":[{\"assembly\":\"UnityEngine.UI\",\"name\":\"buyButton\",\"type\":\"UnityEngine.UI.Button\",\"isArray\":false,\"initValue\":[],\"enumKeys\":[],\"enumValues\":[],\"attributes\":[{\"name\":\"SerializeField\",\"args\":[]}]},{\"assembly\":\"UnityEngine.CoreModule\",\"name\":\"resultPanel\",\"type\":\"UnityEngine.GameObject\",\"isArray\":false,\"initValue\":[],\"enumKeys\":[],\"enumValues\":[],\"attributes\":[{\"name\":\"SerializeField\",\"args\":[]}]},{\"assembly\":\"UnityEngine.CoreModule\",\"name\":\"cardLayout\",\"type\":\"UnityEngine.GameObject\",\"isArray\":false,\"initValue\":[],\"enumKeys\":[],\"enumValues\":[],\"attributes\":[{\"name\":\"SerializeField\",\"args\":[]}]},{\"assembly\":\"\",\"name\":\"cards\",\"type\":\"C:/Users/Jun/Documents/GitHub/WakKitchen/Assets/Scripts/Employee/Card.default\",\"isArray\":true,\"initValue\":[],\"enumKeys\":[],\"enumValues\":[],\"attributes\":[{\"name\":\"SerializeField\",\"args\":[]}]},{\"assembly\":\"mscorlib\",\"name\":\"cost\",\"type\":\"System.Single\",\"isArray\":false,\"initValue\":[\"500\"],\"enumKeys\":[],\"enumValues\":[],\"attributes\":[{\"name\":\"SerializeField\",\"args\":[]}]}],\"name\":\"Shop_Hire\",\"description\":\"\"},\"isCompiled\":true}"
  typescriptHash: 7159c0e549ec4328e7f8f85821b3d377
  onlyWriteTrigger: 0
