fileFormatVersion: 2
guid: bb1445786a3e125498a423199d7c4271
importerOverride: ZEPETO.Script.Compiler:ZEPETO.Script:TypescriptAssetImporter
ScriptedImporter:
  internalIDToNameTable: []
  externalObjects: {}
  serializedVersion: 2
  userData: 
  assetBundleName: 
  assetBundleVariant: 
  script: {fileID: -1123457745, guid: 54cf806323ffe4418a4ce4cc63fe6b9d, type: 3}
  isAssemblyDeclarations: 0
  assembly: 
  generateAllTypes: 1
  types: []
  generateWrapper: 0
  overrideWrapperTypes: 0
  wrapperTypes: []
  WrapperFilters: []
  wrapperOutputDirectory: Generated
  compiledResult: '{"source":"\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\",
    { value: true });\r\nexports.SceneName = void 0;\r\nconst UnityEngine_SceneManagement_1
    = require(\"UnityEngine.SceneManagement\");\r\nconst ZEPETO_Script_1 = require(\"ZEPETO.Script\");\r\nconst
    UnityEngine_UI_1 = require(\"UnityEngine.UI\");\r\nconst UnityEngine_1 = require(\"UnityEngine\");\r\nconst
    GameManager_1 = require(\"./GameManager\");\r\nconst OrderManager_1 = require(\"./OrderManager\");\r\nconst
    UIManager_1 = require(\"./UIManager\");\r\nconst SoundManager_1 = require(\"./SoundManager\");\r\nvar
    SceneName;\r\n(function (SceneName) {\r\n    SceneName[\"Main\"] = \"00_Main\";\r\n   
    SceneName[\"Stage\"] = \"01_Stage\";\r\n    SceneName[\"Shop\"] = \"02_Shop\";\r\n})(SceneName
    = exports.SceneName || (exports.SceneName = {}));\r\nclass SceneLoadManager extends
    ZEPETO_Script_1.ZepetoScriptBehaviour {\r\n    constructor() {\r\n        super(...arguments);\r\n       
    this.inverseNum = 1 / 0.9;\r\n    }\r\n    static GetInstance() {\r\n       
    if (!SceneLoadManager.Instance) {\r\n            var _obj = UnityEngine_1.GameObject.Find(\"SceneLoadManager\");\r\n           
    if (!_obj) {\r\n                _obj = new UnityEngine_1.GameObject(\"SceneLoadManager\");\r\n               
    _obj.AddComponent($typeof(SceneLoadManager));\r\n            }\r\n           
    SceneLoadManager.Instance = _obj.GetComponent($typeof(SceneLoadManager));\r\n           
    UnityEngine_1.GameObject.DontDestroyOnLoad(_obj);\r\n        }\r\n        return
    SceneLoadManager.Instance;\r\n    }\r\n    Awake() {\r\n        if (this != SceneLoadManager.GetInstance())\r\n           
    UnityEngine_1.GameObject.Destroy(this.gameObject);\r\n    }\r\n    Start() {\r\n       
    this.loadingScreen.SetActive(false);\r\n        this.currentScene = SceneName.Main;\r\n   
    }\r\n    // Load the specified scene\r\n    LoadScene(sceneName) {\r\n       
    // Show the loading screen\r\n        this.loadingScreen.SetActive(true);\r\n       
    // Load the specified scene asynchronously\r\n        this.StartCoroutine(this.LoadSceneAsync(sceneName));\r\n   
    }\r\n    *LoadSceneAsync(sceneName) {\r\n        this.isCharacterLoaded = false;\r\n       
    // Create an AsyncOperation object to track the progress of the scene load\r\n       
    let asyncOperation = UnityEngine_SceneManagement_1.SceneManager.LoadSceneAsync(sceneName.toString());\r\n       
    let progress = 0;\r\n        // Wait until the scene is fully loaded\r\n       
    while (!asyncOperation.isDone) {\r\n            // Update the progress of the
    loading screen based on the progress of the AsyncOperation\r\n            //
    You can use this to update a loading bar or display a percentage\r\n           
    progress = UnityEngine_1.Mathf.Clamp01(asyncOperation.progress * this.inverseNum);\r\n           
    UnityEngine_1.Debug.Log(\"Loading progress: \" + progress);\r\n            this.loadingProgressBar.value
    = progress;\r\n            yield;\r\n        }\r\n        this.currentScene =
    sceneName;\r\n        switch (sceneName) {\r\n            case SceneName.Main:\r\n               
    SoundManager_1.default.GetInstance().OnPlayBGM(SoundManager_1.default.GetInstance().keyMain);\r\n               
    break;\r\n            case SceneName.Shop:\r\n                OrderManager_1.default.GetInstance().DisableOrder();\r\n               
    UIManager_1.default.GetInstance().DisableStageUI();\r\n                break;\r\n           
    case SceneName.Stage:\r\n                while (!this.isCharacterLoaded) {\r\n                   
    yield;\r\n                }\r\n                GameManager_1.default.GetInstance().InitStage();\r\n               
    GameManager_1.default.GetInstance().NextStage();\r\n                break;\r\n           
    default:\r\n                break;\r\n        }\r\n        // Hide the loading
    screen\r\n        this.loadingScreen.SetActive(false);\r\n    }\r\n    SetCharacterLoaded()
    {\r\n        this.isCharacterLoaded = true;\r\n    }\r\n    getCurrentScene()
    {\r\n        return this.currentScene;\r\n    }\r\n}\r\nexports.default = SceneLoadManager;\r\n//#
    sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU2NlbmVMb2FkTWFuYWdlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIlNjZW5lTG9hZE1hbmFnZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEsNkVBQTJEO0FBQzNELGlEQUFxRDtBQUNyRCxtREFBa0U7QUFDbEUsNkNBQTBIO0FBQzFILCtDQUF3QztBQUN4QyxpREFBMEM7QUFDMUMsMkNBQW9DO0FBQ3BDLGlEQUEwQztBQUUxQyxJQUFZLFNBSVg7QUFKRCxXQUFZLFNBQVM7SUFDakIsNkJBQWdCLENBQUE7SUFDaEIsK0JBQWtCLENBQUE7SUFDbEIsNkJBQWdCLENBQUE7QUFDcEIsQ0FBQyxFQUpXLFNBQVMsR0FBVCxpQkFBUyxLQUFULGlCQUFTLFFBSXBCO0FBRUQsTUFBcUIsZ0JBQWlCLFNBQVEscUNBQXFCO0lBQW5FOztRQW9CWSxlQUFVLEdBQVcsQ0FBQyxHQUFHLEdBQUcsQ0FBQztJQWtFekMsQ0FBQztJQW5GVSxNQUFNLENBQUMsV0FBVztRQUVyQixJQUFJLENBQUMsZ0JBQWdCLENBQUMsUUFBUSxFQUFFO1lBQzVCLElBQUksSUFBSSxHQUFHLHdCQUFVLENBQUMsSUFBSSxDQUFDLGtCQUFrQixDQUFDLENBQUM7WUFDL0MsSUFBSSxDQUFDLElBQUksRUFBRTtnQkFDUCxJQUFJLEdBQUcsSUFBSSx3QkFBVSxDQUFDLGtCQUFrQixDQUFDLENBQUM7Z0JBQzFDLElBQUksQ0FBQyxZQUFZLFNBQUMsZ0JBQWdCLEdBQUk7YUFDekM7WUFDRCxnQkFBZ0IsQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLFlBQVksU0FBQyxnQkFBZ0IsRUFBRyxDQUFDO1lBQ2xFLHdCQUFVLENBQUMsaUJBQWlCLENBQUMsSUFBSSxDQUFDLENBQUM7U0FDdEM7UUFDRCxPQUFPLGdCQUFnQixDQUFDLFFBQVEsQ0FBQztJQUNyQyxDQUFDO0lBU0QsS0FBSztRQUNELElBQUksSUFBSSxJQUFJLGdCQUFnQixDQUFDLFdBQVcsRUFBRTtZQUFFLHdCQUFVLENB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","assetPath":"Assets/Scripts/SceneLoadManager.ts","manifest":{"properties":[{"assembly":"UnityEngine.CoreModule","name":"loadingScreen","type":"UnityEngine.GameObject","isArray":false,"initValue":[],"enumKeys":[],"enumValues":[],"attributes":[]},{"assembly":"UnityEngine.UI","name":"loadingProgressBar","type":"UnityEngine.UI.Slider","isArray":false,"initValue":[],"enumKeys":[],"enumValues":[],"attributes":[]}],"name":"SceneLoadManager","description":""},"isCompiled":true}'
  typescriptHash: 017dabe54da8b8994c858eaa8c4d682a
  onlyWriteTrigger: 0
