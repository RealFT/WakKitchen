fileFormatVersion: 2
guid: bb1445786a3e125498a423199d7c4271
importerOverride: ZEPETO.Script.Compiler:ZEPETO.Script:TypescriptAssetImporter
ScriptedImporter:
  internalIDToNameTable: []
  externalObjects: {}
  serializedVersion: 2
  userData: 
  assetBundleName: 
  assetBundleVariant: 
  script: {fileID: -1123457745, guid: 54cf806323ffe4418a4ce4cc63fe6b9d, type: 3}
  isAssemblyDeclarations: 0
  assembly: 
  generateAllTypes: 1
  types: []
  generateWrapper: 0
  overrideWrapperTypes: 0
  wrapperTypes: []
  WrapperFilters: []
  wrapperOutputDirectory: Generated
  compiledResult: "{\"source\":\"\\\"use strict\\\";\\r\\nObject.defineProperty(exports,
    \\\"__esModule\\\", { value: true });\\r\\nexports.SceneName = void 0;\\r\\nconst
    UnityEngine_SceneManagement_1 = require(\\\"UnityEngine.SceneManagement\\\");\\r\\nconst
    ZEPETO_Script_1 = require(\\\"ZEPETO.Script\\\");\\r\\nconst UnityEngine_UI_1
    = require(\\\"UnityEngine.UI\\\");\\r\\nconst UnityEngine_1 = require(\\\"UnityEngine\\\");\\r\\nconst
    GameManager_1 = require(\\\"./GameManager\\\");\\r\\nconst OrderManager_1 = require(\\\"./OrderManager\\\");\\r\\nconst
    UIManager_1 = require(\\\"./UIManager\\\");\\r\\nconst SoundManager_1 = require(\\\"./SoundManager\\\");\\r\\nconst
    HelpManager_1 = require(\\\"./Help/HelpManager\\\");\\r\\nconst DataManager_1
    = require(\\\"./DataManager\\\");\\r\\nvar SceneName;\\r\\n(function (SceneName)
    {\\r\\n    SceneName[\\\"Main\\\"] = \\\"00_Main\\\";\\r\\n    SceneName[\\\"Stage\\\"]
    = \\\"01_Stage\\\";\\r\\n    SceneName[\\\"Shop\\\"] = \\\"02_Shop\\\";\\r\\n})(SceneName
    = exports.SceneName || (exports.SceneName = {}));\\r\\nclass SceneLoadManager
    extends ZEPETO_Script_1.ZepetoScriptBehaviour {\\r\\n    constructor() {\\r\\n       
    super(...arguments);\\r\\n        this.inverseNum = 1 / 0.9;\\r\\n    }\\r\\n   
    static GetInstance() {\\r\\n        if (!SceneLoadManager.Instance) {\\r\\n           
    var _obj = UnityEngine_1.GameObject.Find(\\\"SceneLoadManager\\\");\\r\\n           
    if (!_obj) {\\r\\n                _obj = new UnityEngine_1.GameObject(\\\"SceneLoadManager\\\");\\r\\n               
    _obj.AddComponent($typeof(SceneLoadManager));\\r\\n            }\\r\\n           
    SceneLoadManager.Instance = _obj.GetComponent($typeof(SceneLoadManager));\\r\\n           
    UnityEngine_1.GameObject.DontDestroyOnLoad(_obj);\\r\\n        }\\r\\n       
    return SceneLoadManager.Instance;\\r\\n    }\\r\\n    Awake() {\\r\\n       
    if (this != SceneLoadManager.GetInstance())\\r\\n            UnityEngine_1.GameObject.Destroy(this.gameObject);\\r\\n   
    }\\r\\n    Start() {\\r\\n        this.loadingScreen.SetActive(false);\\r\\n       
    this.currentScene = SceneName.Main;\\r\\n    }\\r\\n    // Load the specified
    scene\\r\\n    LoadScene(sceneName) {\\r\\n        // Show the loading screen\\r\\n       
    this.loadingScreen.SetActive(true);\\r\\n        // Load the specified scene
    asynchronously\\r\\n        this.StartCoroutine(this.LoadSceneAsync(sceneName));\\r\\n   
    }\\r\\n    *LoadSceneAsync(sceneName) {\\r\\n        this.isCharacterLoaded =
    false;\\r\\n        // Create an AsyncOperation object to track the progress
    of the scene load\\r\\n        let asyncOperation = UnityEngine_SceneManagement_1.SceneManager.LoadSceneAsync(sceneName.toString());\\r\\n       
    let progress = 0;\\r\\n        // Wait until the scene is fully loaded\\r\\n       
    while (!asyncOperation.isDone) {\\r\\n            // Update the progress of the
    loading screen based on the progress of the AsyncOperation\\r\\n            //
    You can use this to update a loading bar or display a percentage\\r\\n           
    progress = UnityEngine_1.Mathf.Clamp01(asyncOperation.progress * this.inverseNum);\\r\\n           
    UnityEngine_1.Debug.Log(\\\"Loading progress: \\\" + progress);\\r\\n           
    this.loadingProgressBar.value = progress;\\r\\n            yield;\\r\\n       
    }\\r\\n        this.currentScene = sceneName;\\r\\n        switch (sceneName)
    {\\r\\n            case SceneName.Main:\\r\\n                SoundManager_1.default.GetInstance().OnPlayBGM(SoundManager_1.default.GetInstance().keyMain);\\r\\n               
    break;\\r\\n            case SceneName.Shop:\\r\\n                OrderManager_1.default.GetInstance().DisableOrder();\\r\\n               
    UIManager_1.default.GetInstance().DisableStageUI();\\r\\n                break;\\r\\n           
    case SceneName.Stage:\\r\\n                while (!this.isCharacterLoaded) {\\r\\n                   
    yield;\\r\\n                }\\r\\n                GameManager_1.default.GetInstance().InitStage();\\r\\n               
    //GameManager.GetInstance().NextStage();\\r\\n                // \uD604\uC7AC
    \uC2A4\uD14C\uC774\uC9C0\uC5D0 \uD574\uAE08\uB41C \uC139\uC158\uC774 \uC788\uB294\uC9C0
    \uCCB4\uD06C \uD6C4 \uD574\uB2F9\uD558\uB294 \uAC00\uC774\uB4DC \uD29C\uD1A0\uB9AC\uC5BC
    \uD65C\uC131\uD654\\r\\n                const curStage = GameManager_1.default.GetInstance().GetCurrentStage();\\r\\n               
    const unlockSection = DataManager_1.default.GetInstance().CheckUnlockByStage(curStage);\\r\\n               
    if (unlockSection != undefined) {\\r\\n                    HelpManager_1.default.GetInstance().GuideSection(unlockSection);\\r\\n               
    }\\r\\n                break;\\r\\n            default:\\r\\n               
    break;\\r\\n        }\\r\\n        // Hide the loading screen\\r\\n        this.loadingScreen.SetActive(false);\\r\\n   
    }\\r\\n    SetCharacterLoaded() {\\r\\n        this.isCharacterLoaded = true;\\r\\n   
    }\\r\\n    getCurrentScene() {\\r\\n        return this.currentScene;\\r\\n   
    }\\r\\n}\\r\\nexports.default = SceneLoadManager;\\r\\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU2NlbmVMb2FkTWFuYWdlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIlNjZW5lTG9hZE1hbmFnZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEsNkVBQTJEO0FBQzNELGlEQUFxRDtBQUNyRCxtREFBZ0Q7QUFDaEQsNkNBQXVFO0FBQ3ZFLCtDQUF3QztBQUN4QyxpREFBMEM7QUFDMUMsMkNBQW9DO0FBQ3BDLGlEQUEwQztBQUMxQyxvREFBNkM7QUFDN0MsK0NBQXdDO0FBRXhDLElBQVksU0FJWDtBQUpELFdBQVksU0FBUztJQUNqQiw2QkFBZ0IsQ0FBQTtJQUNoQiwrQkFBa0IsQ0FBQTtJQUNsQiw2QkFBZ0IsQ0FBQTtBQUNwQixDQUFDLEVBSlcsU0FBUyxHQUFULGlCQUFTLEtBQVQsaUJBQVMsUUFJcEI7QUFFRCxNQUFxQixnQkFBaUIsU0FBUSxxQ0FBcUI7SUFBbkU7O1FBb0JZLGVBQVUsR0FBVyxDQUFDLEdBQUcsR0FBRyxDQUFDO0lBd0V6QyxDQUFDO0lBekZVLE1BQU0sQ0FBQyxXQUFXO1FBRXJCLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxRQUFRLEVBQUU7WUFDNUIsSUFBSSxJQUFJLEdBQUcsd0JBQVUsQ0FBQyxJQUFJLENBQUMsa0JBQWtCLENBQUMsQ0FBQztZQUMvQyxJQUFJLENBQUMsSUFBSSxFQUFFO2dCQUNQLElBQUksR0FBRyxJQUFJLHdCQUFVLENBQUMsa0JBQWtCLENBQUMsQ0FBQztnQkFDMUMsSUFBSSxDQUFDLFlBQVksU0FBQyxnQkFBZ0IsR0FBSTthQUN6QztZQUNELGdCQUFnQixDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUMsWUFBWSxTQUFDLGdCQUFnQixFQUFHLENBQUM7WUFDbEUsd0JBQVUsQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLENBQUMsQ0FBQztTQUN0QztRQUNELE9BQU8sZ0JBQWdCLENBQUMsUUFBUSxDQUFDO0lBQ3JDLENBQUM7SUFTRCxLQUFLO1FBQ0QsSUFBSSxJQUFJLElBQUksZ0JBQWdCLENB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\",\"assetPath\":\"Assets/Scripts/SceneLoadManager.ts\",\"manifest\":{\"properties\":[{\"assembly\":\"UnityEngine.CoreModule\",\"name\":\"loadingScreen\",\"type\":\"UnityEngine.GameObject\",\"isArray\":false,\"initValue\":[],\"enumKeys\":[],\"enumValues\":[],\"attributes\":[]},{\"assembly\":\"UnityEngine.UI\",\"name\":\"loadingProgressBar\",\"type\":\"UnityEngine.UI.Slider\",\"isArray\":false,\"initValue\":[],\"enumKeys\":[],\"enumValues\":[],\"attributes\":[]}],\"name\":\"SceneLoadManager\",\"description\":\"\"},\"isCompiled\":true}"
  typescriptHash: a60d66c14729b177c0382c7140862528
  onlyWriteTrigger: 0
